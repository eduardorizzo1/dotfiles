run '~/.tmux/plugins/tpm/tpm'
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

unbind C-b
set -g prefix C-a
set -g mouse on
set -g status-interval 5
set -g default-terminal "xterm-kitty"
set-option -g status on
set-option -g status-position bottom
# set-option -ga terminal-overrides ",xterm-kitty:Tc"
set -as terminal-overrides ",xterm-kitty*:smcup@:rmcup@"
set-window-option -g xterm-keys on

# Binds
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Custom Theme
set -g status-style bg=#21222c
set -g pane-border-style fg='#7aa2f7'
set -g pane-active-border-style fg='#52fa7b'

set-window-option -g window-status-current-format "#[fg=#422fa3,bg=#212136]#[fg=#ffffff,bg=#422fa3] #I #[fg=#6272a4]│#[fg=#ffffff] #W #[fg=#212136,reverse] "
set-window-option -g window-status-style "fg=#6272a4,bg=default"
set-window-option -g window-status-current-style "fg=#212136,bg=#422fa3"

# STATUS LEFT
set -g status-left-length 100
set -g status-left '#[bg=#52fa7b]#[fg=#212136]#{?client_prefix,#[bg=#f1fa8c]#[fg=#212136],} #S '
set -ga status-left '#[bg=#212136,fg=#52fa7b]#{?client_prefix,#[bg=#212136]#[fg=#f1fa8c],} ' 

# STATUS RIGHT
set -g status-right '#[bg=default,fg=#8be9fd]cpu #( vmstat 2 2 | tail -1 | awk "{ printf 100-\$15; }" )% ' 
set -ga status-right "#[bg=default,fg=#bd93f9]ram #(free -h | grep Mem | awk '{print $7}' ) "
set -ga status-right '#[fg=#422fa3,bg=#212136]#[fg=#ffffff,bg=#422fa3] %a %d/%m #[fg=#52fa7b,bg=#422fa3]#[fg=#000000,bg=#52fa7b] %H:%M '
# Macos
# set -g status-right '#[bg=default,fg=#8be9fd]cpu #(ps -e -o %cpu | awk 's+=$1} END {print s}')% " 
# set -ga status-right "#[bg=default,fg=#bd93f9]ram #(top -l1 | awk '/PhysMem/ {print $2}') "
