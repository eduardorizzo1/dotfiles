set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-net-speed'

unbind C-b
set -g prefix C-a
set -g mouse on
set -g status-interval 5
# Undercurl
set -g default-terminal "${TERM}"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0
set-option -g status on
set-option -g status-position bottom
# set-option -ga terminal-overrides ",xterm-kitty:Tc"
set -as terminal-overrides ",xterm-kitty*:smcup@:rmcup@"
set-window-option -g xterm-keys on

# net
set -g @download_speed_format "%8s"
set -g @upload_speed_format "%8s"


# Binds
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Custom Theme
set -g status-style bg=#16171d
set -g pane-border-style fg='#6272a4'
set -g pane-active-border-style fg='#52fa7b'

set-window-option -g window-status-current-format "#[fg=#000000,bold] #I #[fg=#16171d]#[fg=#000000,italics] #W #[fg=#16171d,reverse] "
set-window-option -g window-status-current-style "fg=#16171d,bg=#bd93f9"
set-window-option -g window-status-style "fg=#6272a4,bg=default"

# STATUS LEFT
set -g status-left-length 150
set -g status-left '#[bg=#52fa7b]#[fg=#000000,bold,italics]#{?client_prefix,#[bg=#f1fa8c]#[fg=#16171d],} #S '
set -ga status-left '#[bg=#16171d,fg=#52fa7b]#{?client_prefix,#[bg=#16171d]#[fg=#f1fa8c],}#[fg=#16171d,bold]│' 

# STATUS RIGHT
set -g status-right-length 150
set -g status-right "#[bg=default,fg=#ff79c6]#{upload_speed} "
set -ga status-right "#[bg=default,fg=#ffb86c]#{download_speed} "
set -ga status-right '#[bg=default,fg=#8be9fd]  #( vmstat 2 2 | tail -1 | awk "{ printf 100-\$15; }" )% ' 
set -ga status-right "#[bg=default,fg=#bd93f9]  #(free -h | grep Mem | awk '{print $7}' ) "
set -ga status-right '#[fg=#000000,bg=#bd93f9]  %H:%M #[fg=#bd93f9]'
# set -ga status-right '#[fg=#6272a4,bg=#16171d]#[fg=#ffffff,bg=#6272a4] %d/%m #[fg=#bd93f9,bg=#6272a4]#[fg=#000000,bg=#bd93f9] %H:%M #[fg=#bd93f9]'
# set -ga status-right '#[fg=#52fa7b]#[fg=#000000,bg=#52fa7b]  %H:%M #[fg=#52fa7b]'





# Rounded
# set-window-option -g window-status-current-format "#[fg=#bd92f9,bg=#16171d]#[fg=#ffffff,bg=#bd93f9] #I #[fg=#6272a4]│#[fg=#ffffff] #W #[fg=#16171d,reverse] "
# set -ga status-left '#[bg=#16170d,fg=#52fa7b]#{?client_prefix,#[bg=#16171d]#[fg=#f1fa8c],} ' 
# set -ga status-right '#[fg=#bd93f9,bg=#16171d]#[fg=#ffffff,bg=#bd93f9] %a %d/%m #[fg=#52fa7b,bg=#bd93f9]#[fg=#000000,bg=#52fa7b] %H:%M '


# Macos
# set -g status-right '#[bg=default,fg=#8be9fd]cpu #(ps -e -o %cpu | awk 's+=$1} END {print s}')% " 
# set -ga status-right "#[bg=default,fg=#bd93f9]ram #(top -l1 | awk '/PhysMem/ {print $2}') "


run '~/.tmux/plugins/tpm/tpm'
